[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "C√°maras trampa en R",
    "section": "",
    "text": "Hola a todos bienvenidos al curso de C√°maras trampa en R: Procesamiento Organizaci√≥n y An√°lisis de datos. En esta p√°gina encontrar√°n todas las instrucciones para llevar a cabo el curso."
  },
  {
    "objectID": "index.html#instalar-r-y-rstudio",
    "href": "index.html#instalar-r-y-rstudio",
    "title": "C√°maras trampa en R",
    "section": "Instalar R y Rstudio",
    "text": "Instalar R y Rstudio\nCasi todos los ejercicios del curso se desarrollar√°n en el lenguaje de programaci√≥n R, usando la interfaz de Rstudio. Para varios paquetes es necesario tener instalado Rtools. Por √∫ltimo, tambi√©n vamos a usar el programa DigiKam.\nPara todos los detalles de como instalar el software por favor seguir la siguiente gu√≠a üîó link aqu√≠"
  },
  {
    "objectID": "index.html#rtools",
    "href": "index.html#rtools",
    "title": "C√°maras trampa en R",
    "section": "Rtools",
    "text": "Rtools\nPara instalar Rtools simplemente dir√≠gete a este enlace y sigue las instrucciones para instalar Rtools43"
  },
  {
    "objectID": "index.html#digikam",
    "href": "index.html#digikam",
    "title": "C√°maras trampa en R",
    "section": "DigiKam",
    "text": "DigiKam\nPara instalar DigiKam debes seguir los siguientes pasos:\n\nDescarga: Ve a la siguiente direcci√≥n https://www.digikam.org/download/ y descarga el instalador que corresponda a tu sistema operativo.\nUna vez descargado √°brelo y sigue las instrucciones. No es necesario cambiar las opciones por defecto, solo dar click en siguiente hasta que quede instalado y luego poner terminar.\nPara m√°s detalles o dudas puedes revisar el cap√≠tulo 2 del libro Fototrampeo en R: Organizaci√≥n y An√°lisis de Datos"
  },
  {
    "objectID": "index.html#instalar-paqueter√≠as",
    "href": "index.html#instalar-paqueter√≠as",
    "title": "C√°maras trampa en R",
    "section": "Instalar paqueter√≠as",
    "text": "Instalar paqueter√≠as\nSe espera que previo al curso instales las siguientes paqueter√≠as\n\ninstall.packages(c(\"camtrapR\", # Camera Trap Data Management and Preparation of Occupancy and Spatial Capture-Recapture Analyses\n                   \"tidyverse\", # Easily Install and Load the 'Tidyverse'\n                   \"leaflet\", # Create Interactive Web Maps with the JavaScript ' Library\n                   \"sp\", # Classes and Methods for Spatial Data\n                   \"ggtext\", # Improved Text Rendering Support for 'ggplot2'\n                   \"AICcmodavg\", # Model Selection and Multimodel Inference Based C(c)\n                   \"broom\", # Convert Statistical Objects into Tidy Tibbles\n                   \"ggeffects\", # Create Tidy Data Frames of Marginal Effects for  from Model Outputs\n                   \"performance\", # Assessment of Regression Models Performance\n                   \"unmarked\", # Models for Data from Unmarked Animals\n                   \"MuMIn\", # Multi-Model Inference\n                   \"usdm\", # Uncertainty Analysis for Species Distribution Models\n                   \"GGally\", # Extension to 'ggplot2\n                   \"patchwork\", # The Composer of Plots\n                   \"ubms\", # Bayess version of unmarked\n                   \"mgcv\",  # GAM to residuals occ model\n                   \"ncf\", #correlograms\n                   \"tictoc\",\n                   \"beepr\",\n                   \"wiqid\"\n                   \n))"
  },
  {
    "objectID": "DigiKam.html",
    "href": "DigiKam.html",
    "title": "Configurar y usar DigiKam",
    "section": "",
    "text": "Una vez instalado DigiKam tenemos que configurarlo y generar la carpeta donde se guardaran los archivos SQL que contendr√°n toda la informaci√≥n de meta-datos.\n\nSi es la primera vez que abres DigiKam se abrir√° una ventana de bienvenida, en la cual le das siguiente\nConfigurar carpeta de im√°genes: Seleccionar la carpeta donde est√°n guardadas tus im√°genes. Lo importante de este punto es que sea una carpeta local. Mucho cuidado con escoger una carpeta en un disco extraible o usb. Por ahora la mejor opci√≥n es ubicar el directorio en donde est√°n nuestras im√°genes a trabajar\nConfigurar carpeta de bases de datos: Ahora te pide saber en que carpeta guardara el SQL. Este paso es muy importante porque si pierden estos archivos DigiKam no funcionar√°. Porfavor, no uses una carpeta de una usb o disco extraible\nConfigurar archivos raw: Esta opci√≥n la dejamos por defecto y continuamos\nConfigurar almacenamiento de meta-datos: En este punto le damos que si queremos a√±adir la informaci√≥n a los archivos. Esto hace que guarde los metadatos cuando lo indiquemos y son precisamente los que se usar√°n en CamtrapR\nTodos los dem√°s pasos los dejaremos por defecto y pondremos siguiente hasta que lleguemos a finalizar.\nYa una vez iniciado Digikam iremos a la pesta√±a de preferencias y configuraci√≥n de DigiKam. Se desplegara una ventana y en la secci√≥n izquierda unos iconos. Por ahora nos centraremos en meta-datos. En la parte inferior quitaremos la opci√≥n de actualizar fecha de modificaci√≥n del archivo cuando se modifique. √âsto es importante porque necesitamos la fecha original del archivo ya que es la fecha de registro de la foto"
  },
  {
    "objectID": "IAR_doc.html",
    "href": "IAR_doc.html",
    "title": "Indice de ¬øabundancia? relativa (RAI)",
    "section": "",
    "text": "La estimaci√≥n de la abundancia de poblaciones es de vital importancia para la conservaci√≥n de la vida silvestre. En el caso de los mam√≠feros, las c√°maras trampa son una de las m√©todos de muestreo m√°s usados (Burton et¬†al. 2015).\n\n\n\nEn especies marcadas o con marcas naturales es posible usar modelos de captura recaptura para estimar la abundancia (Wearn y Glover-Kapfer 2017).\n\nPero en especies que no tienen marcas es dif√≠cil o imposible reconocer individuos a partir de fotograf√≠as, lo que no permite usar modelos de captura recaptura.\n\nEn estos casos muchas veces se usan √≠ndices para realizar inferencias sobre la abundancia de especies (O‚ÄôConnell, Nichols, y Karanth 2010; Timothy G. O‚ÄôBrien, Kinnaird, y Wibisono 2003)."
  },
  {
    "objectID": "IAR_doc.html#del-rai-a-la-abundancia",
    "href": "IAR_doc.html#del-rai-a-la-abundancia",
    "title": "Indice de ¬øabundancia? relativa (RAI)",
    "section": "Del RAI a la abundancia",
    "text": "Del RAI a la abundancia\nC√≥mo cualquier otro √≠ndice, la utilidad del RAI para realizar inferencias sobre la abundancia de especies depende de que cumpla con ciertos supuestos generales.\n\nLos registros fotogr√°ficos deben ser independientes en el tiempo\nPoblaci√≥n cerrada, el RAI no cambia durante el muestreo\nTodos los animales/individuos son detectados si est√°n presentes\n\nS√≠ todo esto es cierto para el RAI, entonces se espera que te√≥ricamente tenga una correlaci√≥n con la abundancia poblacional ‚Äúreal‚Äù (O‚ÄôConnell, Nichols, y Karanth 2010; Timothy G. O‚ÄôBrien, Kinnaird, y Wibisono 2003).\n\nRegistros independientes ‚è≤Ô∏è\nSeguramente en tus proyectos o tesis te han dicho que debes considerar solamente los registros independientes para calcular el RAI. Pero, ¬øqu√© es un registro independiente?\n\nMuchas personas intuyen que un registro independiente es aquel donde se tiene cierta certeza de que el mismo individuo no es fotografiado de manera consecutiva. Entonces, muy inocentemente definen en su tesis o art√≠culo 30/60/1440 minutos como el umbral m√°gico, en el cual dos registros no pertenecen al mismo individuo. Citando seguramente a otra persona que tambi√©n ha hecho lo mismo (R. Sollmann 2018).\nEstamos olvidando algo crucial y es que usamos el RAI porque no podemos reconocer individuos y por lo tanto no tenemos la certeza de que un individuo diferente pasa en la c√°mara despu√©s de xx cantidad de tiempo.\nRealmente definimos los registros ‚Äúindependientes‚Äù para evitar las pseudo-replicas temporales. Es decir, registros que nos dan la misma informaci√≥n debido a que est√°n muy cercanos entre s√≠. Pero, elegir un intervalo no es una tarea trivial, ya que: un intervalo muy peque√±o puede hacer que tengamos registros dependientes, lo que resulta en que sobre-estimemos el √≠ndice o que se invaliden muchas pruebas estad√≠sticas (Carroll y Pearson 2000). Pero escoger un intervalo muy grande puede hacer que perdamos informaci√≥n, lo cual no es algo deseable para especies poco comunes.\n\n¬ø C√≥mo escoger un intervalo adecuado? sigue siendo una pregunta dif√≠cil. Lo mejor que podemos hacer es definir ese intervalo con base en el conocimiento ecol√≥gico y del movimiento de la especie objetivo (R. Sollmann 2018). Existe tambi√©n la posibilidad de definir el umbral de independencia de manera m√°s formal explorando la autocorrelaci√≥n temporal de los registros (Kays y Parsons 2014; F. Iannarilli et¬†al. 2019) o la inspecci√≥n de los intervalos de registros subsecuentes (Yasuda 2004).\n\nPor lo general las t√©cnicas estad√≠sticas formales para definir independencia temporal son poco usadas por la falta de informaci√≥n y herramientas que sean relativamente dif√≠ciles de aplicar. Aunque en este campo el paquete lorelogram (F. Iannarilli et¬†al. 2019) parece ser muy promisorio. En todo caso las primeras aplicaciones del paquete muestran que para la mayor√≠a de los casos la dependencia espacial se pierde con tan solo 3 minutos y en casos extremos 15 min (con atrayentes) (Fabiola Iannarilli et¬†al. 2021).\n\n\nPoblaci√≥n cerrada\nSeguramente la mayor√≠a tambi√©n ha escuchado hablar del supuesto de poblaci√≥n cerrada. De manera general una poblaci√≥n cerrada se da idealmente en determinado periodo de tiempo donde no sucedan muertes, nacimientos, migraci√≥n o emigraci√≥n de individuos (Schoen y Kim 1991). Esto es particularmente importante cuando intentamos hacer inferencias sobre el par√°metros poblacionales de una especie, en este caso abundancia.\nVamos a verlo con un ejemplo exagerado, pero espero que ilustre lo importante que puede ser el supuesto. Imaginemos que tenemos tres a√±os de conteos de una poblaci√≥n de un c√°nido en un √°rea determinada. Por alg√∫n motivo esta poblaci√≥n esta disminuyendo cada a√±o. Sin embargo, s√≠ yo defino mi temporada de muestreo como los 3 a√±os, no ser√° posible evidenciar la disminuci√≥n de la poblaci√≥n. Al realizar cada conteo por a√±o si sera posible. Esto mismo puede suceder a escala de meses o de temporadas clim√°ticas, pero claro todo va a depender del sistema de estudio y el conocimiento que tengamos del mismo.\n\n\n\n¬ø Detectamos todo los que existe ?\nEl RAI supone que todos los individuos que se encuentren en el √°rea ser√°n fotografiados, es decir que la probabilidad de detecci√≥n es perfecta. En otras palabras, si tenemos la total seguridad de registrar todos los individuos que pasen en frente de la c√°mara trampa, tendremos la certeza de que los cambios en la tasa fotogr√°fica se deban a los cambios en la abundancia de la especie. B√°sicamente que la relaci√≥n de la abundancia real y el RAI sea monot√≥nica (Timothy G. O‚ÄôBrien 2011).\n\n\n\nPalmer et al 2018 Relaci√≥n del RAI con estimaciones de densidad con vuelos\n\n\nAutores c√≥mo Palmer et¬†al. (2018) han demostrado que bajo ciertas circunstancias el RAI puede ser un buen reflejo de la abundancia. No obstante, en la mayor√≠a de los casos la probabilidad de detecci√≥n de las especies no es perfecta (K√©ry et¬†al. 2009; Burton et¬†al. 2015). Esto quiere decir que es bastante probable que pese a que no detectemos a una especie en una unidad y d√≠a determinado, es dif√≠cil llegar a concluir que en efecto esta ausente. Lo cual termina por generar que subestimemos el par√°metro de inter√©s (Martin-Garcia et¬†al. 2022).\n\n\n\nModificado de G√°lvez, N., Gonz√°lez, M. J., Vuskovic, T., Ba√±ales- Seguel, C., Opazo, A., Mart√≠nez, D., Zurita, R., Ortega, F., & Schuttler, S. (2020). Monitoreo escolar de fauna silvestre: Gu√≠a docente para realizar un proyecto cent√≠fico escolar mediante foto trampeo (First ed.) Proyecto EXPLORA de Divulgaci√≥n y Valoraci√≥n de la Cienciay Tecnolog√≠a 2018-2019 de CONICYT ED220040.\n\n\nEn c√°maras trampa la detecci√≥n imperfecta es un fen√≥meno muy com√∫n. Recordemos que como herramientas de monitoreo pasivo las c√°maras tienen un √°rea efectiva de muestreo bastante peque√±a (Andrade-Ponce et¬†al. 2021; Moeller et¬†al. 2022). En otras palabras, la probabilidad de que una especie pase frente al √°rea donde el sensor de la c√°mara se active y sea registrada, realmente es baja (Moeller et¬†al. 2022).\n\nExisten diversos factores que pueden llegar a afectar la detecci√≥n de las especies, desde su abundancia natural, el tama√±o del √°mbito hogare√±o, el tipo de h√°bitat, el lugar en que ubiquemos la c√°mara, entre otras (Burton et¬†al. 2015; Andrade-Ponce et¬†al. 2021; Guillera-Arroita 2016). Lo cierto es que se ha demostrado que llegar a ignorar la detecci√≥n imperfecta de las especies puede hacernos llegar a conclusiones totalmente contrarias sobre la abundancia de las mismas (Rahel Sollmann et¬†al. 2013).\n\n\nEl uso del espacio afecta la interpretaci√≥n\nSi en alg√∫n mundo id√≠lico cumplimos con los supuestos que ya mencionamos, podr√≠amos llegar a pensar que los cambios en el RAI son un buen reflejo de los cambios en la abundancia de poblacional. No obstante, el uso del h√°bitat o del espacio tambi√©n puede afectar la tasa de registro (Stewart et¬†al. 2018). Por ejemplo, especies que se mueven r√°pido a lo largo de su territorio pueden ser detectadas mayor n√∫mero de veces, mientras que una especie de movimiento ‚Äúlento‚Äù no. De manera, similar especies con √°mbitos hogare√±os m√°s amplios, pueden ser detectadas en distintas estaciones, aumentando el n√∫mero de detecciones totales (Broadley et¬†al. 2019).\n\nCreo que una manera sensata de usar el RAI es como una medida de actividad o intensidad de uso (Timothy G. O‚ÄôBrien 2011). Por supuesto seguimos teniendo el problema de la detecci√≥n imperfecta, pero al menos no hacemos inferencia sobre una abundancia, sino sobre la relaci√≥n entre la tasa de detecci√≥n y alguna covariable como el h√°bitat o un disturbio. Precisamente, en este ejemplo vamos a usar el RAI para explicar la relaci√≥n de la especie con algunas covariables y para ello usaremos modelos lineales. Manos a la obra:"
  },
  {
    "objectID": "IAR_doc.html#librer√≠as",
    "href": "IAR_doc.html#librer√≠as",
    "title": "Indice de ¬øabundancia? relativa (RAI)",
    "section": "Librer√≠as",
    "text": "Librer√≠as\nUsaremos las siguientes librer√≠as en R\n\nlibrary(camtrapR) # Camera Trap Data Management and Preparation of Occupancy and Spatial Capture-Recapture Analyses\nlibrary(tidyverse) # Easily Install and Load the 'Tidyverse'\nlibrary(leaflet) # Create Interactive Web Maps with the JavaScript 'Leaflet' Library\nlibrary(sp) # Classes and Methods for Spatial Data\nlibrary(ggtext) # Improved Text Rendering Support for 'ggplot2'\nlibrary(AICcmodavg) # Model Selection and Multimodel Inference Based on (Q)AIC(c)\nlibrary(broom) # Convert Statistical Objects into Tidy Tibbles\nlibrary(ggeffects) # Create Tidy Data Frames of Marginal Effects for 'ggplot' from Model Outputs\nlibrary(performance) # Assessment of Regression Models Performance"
  },
  {
    "objectID": "IAR_doc.html#datos",
    "href": "IAR_doc.html#datos",
    "title": "Indice de ¬øabundancia? relativa (RAI)",
    "section": "Datos",
    "text": "Datos\nVamos a cargar unos datos de c√°maras trampa del a√±o 2020. Seguiremos el flujo de trabajo que emplea camtrapR, por lo cual cargaremos las tablas que generamos a partir del paquete: la tabla de funcionamiento de c√°maras y la de registros.\nVamos a cargar la tabla de operaci√≥n de c√°maras\n\n# Usar√© la funci√≥n read.delim debido a que mi tabla esta en formato txt, pero generalmente camtrapR genera csv. En ese caso se usa read.csv\nCT_table <- read.delim(\"Data/CT_cams.txt\")\n\n\n\n\n\n\nStation\nutm_y\nutm_x\nSetup_date\nRetrieval_date\n\n\n\n\nCBG01\n2007508\n696396\n22/02/2020\n22/04/2020\n\n\nCBG02\n2008327\n695788\n22/02/2020\n22/04/2020\n\n\nCBG03\n2009568\n695414\n21/02/2020\n22/04/2020\n\n\nCBG04\n2010475\n695052\n21/02/2020\n22/04/2020\n\n\nCBG05\n2011016\n694286\n21/02/2020\n22/04/2020\n\n\nCBG06\n2007026\n695603\n22/02/2020\n22/04/2020\n\n\n\n\n\nUn paso muy importante es verificar que las coordenadas sean las correctas, y la manera m√°s sencilla de saberlo es mediante gr√°ficos. Nosotros haremos un mapa interactivo para verificar que todo est√© en orden\n\n# Generar objeto espacial para el mapa\nCT_points <- SpatialPoints(cbind(CT_table$utm_x, \n                                 CT_table$utm_y),\n                           proj4string = CRS('+proj=utm +datum=WGS84 +zone=14 +towgs84=0,0,0')) \n# Proyectar a WGS solo para este paso\nCT_points <- spTransform(CT_points, \"+proj=longlat +datum=WGS84\")\n\n# Generar el mapa\nm <- leaflet() %>%\n  addProviderTiles(providers$Esri.WorldImagery, group=\"Satellite\") %>%  # Imagen satelital\n  addProviderTiles(providers$Esri.WorldTopoMap, group=\"Base\") %>% \n  addCircleMarkers(lng=sp::coordinates(CT_points)[,1], lat=sp::coordinates(CT_points)[,2], \n                   popup= paste(CT_table$Station)) %>%\n  # Layers control\n  addLayersControl(\n    baseGroups = c(\"Satellite\", \"Base\"),\n    options = layersControlOptions(collapsed = FALSE)\n  )\nm\n\n\n\n\n\nAhora vamos a cargar los registros de las especies. Usaremos la base de datos que genera la funci√≥n surveReport de CamtrapR, espec√≠ficamente la del conteo de detecci√≥n de las especies y la del esfuerzo de muestreo de las c√°maras\n\n# Registros sin delta de independencia\nregistrosD0 <- read.csv(\"Data/events_by_station_d0.csv\")\n\n# Registros con independencia de 15 min\nregistrosD15 <- read.csv(\"Data/events_by_station_d15.csv\")\n\n# Registros con independencia de 30 min\nregistrosD30 <- read.csv(\"Data/events_by_station_d30.csv\")\n\n# Registros con independencia de 60 min\nregistrosD60 <- read.csv(\"Data/events_by_station_d60.csv\")\n\nCada tabla de registros se ve as√≠:\n\n\n\n\n\nStation\nSpecies\nn_events\n\n\n\n\nCBG01\nBassariscus astutus\n0\n\n\nCBG01\nBird\n1\n\n\nCBG01\nBug\n0\n\n\nCBG01\nCanis latrans\n0\n\n\nCBG01\nCanis lupus familiaris\n2\n\n\nCBG01\nCapra aegagrus hircus\n15\n\n\n\n\n\nPara calcular el RAI ahora necesitamos el dato de funcionamiento de c√°maras, el cual tambi√©n podemos obtener de las salidas del surveReport\n\nCam_esf <- read.csv2(\"Data/survey_dates.csv\") %>% \n  select(Station, n_nights_active) # Selecciono las columnas que voy a usar\n# NOTA: uso read.csv2 porque mi compu guarda los csv usando el ; como separador\n\n\n\n\n\n\nStation\nn_nights_active\n\n\n\n\nCBG01\n60\n\n\nCBG02\n60\n\n\nCBG03\n61\n\n\nCBG04\n61\n\n\nCBG05\n61\n\n\nCBG06\n60"
  },
  {
    "objectID": "IAR_doc.html#c√°lculo-del-rai",
    "href": "IAR_doc.html#c√°lculo-del-rai",
    "title": "Indice de ¬øabundancia? relativa (RAI)",
    "section": "C√°lculo del RAI",
    "text": "C√°lculo del RAI\nYa cargu√© toda la informaci√≥n que necesito para calcular el RAI, ahora solo tengo que unirla en una base y hacer las operaciones.\nPara ello vamos a aprovecharnos de la capacidad de dplyr para el manejo de bases de datos.\n\nIAR_D0 <- registrosD0 %>%  #Base de datos de registros\n  left_join(Cam_esf) %>%  #Unimos con la base de esfuerzo \n  group_by(Station, Species) %>%  # Agrupamos por cada estaci√≥n y especie\n  summarise(IAR= (n_events*n_events*n_nights_active)/100) # Aplicamos la formula para c√°lcular el RAI y listo\n\nJoining with `by = join_by(Station)`\n`summarise()` has grouped output by 'Station'. You can override using the\n`.groups` argument.\n\n\nDe esta manera relativamente sencilla podemos obtener el valor de RAI, para cada especie y cada estaci√≥n de muestreo. Tenemos que repetir este procedimiento para cada base de datos de distinto umbral de ‚Äúindependencia‚Äù. Para hacer todo m√°s eficiente voy a crear una peque√±a funci√≥n que me ahorre algo de c√≥digo\n\n#Funci√≥n para RAI r√°pido\nRai_fun <- function(registros, esfuerzo, delta){\n  \n df_RAI <- registros %>% # registros\n    left_join(esfuerzo) %>% # unir con esfuerzo\n    group_by(Station, Species) %>% #agrupar por estacion y sp\n    summarise(IAR = (n_events*n_nights_active)/100) %>%  #Calcular IAR\n    rename_at(., vars(contains(\"IAR\")),list(~paste(\"IAR_D\", delta, sep = \"\") )) # renombrar la columna con el delta adecuado\n   \n  return(df_RAI)\n}\n\n\n# Usemos la peque√±a funci√≥n\n\nIAR_D15 <- Rai_fun(registros = registrosD15,\n                   esfuerzo = Cam_esf,\n                   delta = \"15\")\n\nIAR_D30 <- Rai_fun(registros = registrosD30,\n                   esfuerzo = Cam_esf,\n                   delta = \"30\")\n\nIAR_D60 <- Rai_fun(registros = registrosD60,\n                   esfuerzo = Cam_esf,\n                   delta = \"60\")\n\nAhora juntemos todo en una sola base de datos\n\n# Como todos comparten la columna de especies y de Estacion podemos usar un left_join\nIAR_delta <- IAR_D0 %>% \n  left_join(IAR_D15) %>% \n  left_join(IAR_D30) %>% \n  left_join(IAR_D60) %>% \n  filter(Species %in% c(\"Bassariscus astutus\", #filtro de especies\n                        \"Canis latrans\",\n                        \"Conepatus leuconotus\",\n                        \"Dicotyles angulatus\",\n                        \"Herpailurus yagouaroundi\",\n                        \"Lynx rufus\",\n                        \"Mephitis macroura\",\n                        \"Nasua narica\",\n                        \"Odocoileus virginianus\",\n                        \"Procyon lotor\",\n                        \"Puma concolor\",\n                        \"Spilogale angustifrons\",\n                        \"Sylvilagus floridanus\",\n                        \"Urocyon cinereoargenteus\"\n  ))\n\nJoining with `by = join_by(Station, Species)`\nJoining with `by = join_by(Station, Species)`\nJoining with `by = join_by(Station, Species)`\n\n\n\n\n\n\n\nStation\nSpecies\nIAR\nIAR_D15\nIAR_D30\nIAR_D60\n\n\n\n\nCBG01\nBassariscus astutus\n0\n0\n0\n0\n\n\nCBG01\nCanis latrans\n0\n0\n0\n0\n\n\nCBG01\nConepatus leuconotus\n0\n0\n0\n0\n\n\nCBG01\nDicotyles angulatus\n0\n0\n0\n0\n\n\nCBG01\nHerpailurus yagouaroundi\n0\n0\n0\n0\n\n\nCBG01\nLynx rufus\n0\n0\n0\n0\n\n\n\n\n\nTenemos el RAI por estaci√≥n, pero para evaluarlo gr√°ficamente quiero tener un RAI promedio de especie para todas las c√°maras en cada delta. De nuevo usaremos el poder de dplyr\n\nIAR_mean <- IAR_delta %>% \n  pivot_longer(cols = IAR:IAR_D60, #Pasaran a una columna\n              names_to = \"Delta\", # Esa columna se llamara Delta\n              values_to = \"IAR\") %>% # los valores pasaran a columna llamada IAR\n  group_by(Species, Delta) %>% \n  summarise(mean_IAR= mean(IAR), sd_IAR= sd(IAR)) %>% \n  mutate(Delta= str_remove(Delta, \"IAR_\")) # Solo para quitar ese pedazo de la columna\n\n`summarise()` has grouped output by 'Species'. You can override using the\n`.groups` argument.\n\n\n\nknitr::kable(IAR_mean)\n\n\n\n\nSpecies\nDelta\nmean_IAR\nsd_IAR\n\n\n\n\nBassariscus astutus\nIAR\n5.026774e+00\n1.810406e+01\n\n\nBassariscus astutus\nD15\n3.183871e-01\n8.734380e-01\n\n\nBassariscus astutus\nD30\n3.183871e-01\n8.734380e-01\n\n\nBassariscus astutus\nD60\n3.183871e-01\n8.734380e-01\n\n\nCanis latrans\nIAR\n8.565903e+01\n3.729843e+02\n\n\nCanis latrans\nD15\n8.845161e-01\n1.361873e+00\n\n\nCanis latrans\nD30\n8.845161e-01\n1.361873e+00\n\n\nCanis latrans\nD60\n8.845161e-01\n1.361873e+00\n\n\nConepatus leuconotus\nIAR\n8.259581e+01\n1.758284e+02\n\n\nConepatus leuconotus\nD15\n1.519032e+00\n2.324736e+00\n\n\nConepatus leuconotus\nD30\n1.519032e+00\n2.324736e+00\n\n\nConepatus leuconotus\nD60\n1.519032e+00\n2.324736e+00\n\n\nDicotyles angulatus\nIAR\n1.158646e+04\n5.513660e+04\n\n\nDicotyles angulatus\nD15\n3.083226e+00\n7.880741e+00\n\n\nDicotyles angulatus\nD30\n3.023226e+00\n7.728507e+00\n\n\nDicotyles angulatus\nD60\n2.903226e+00\n7.195641e+00\n\n\nHerpailurus yagouaroundi\nIAR\n1.935480e-02\n1.077632e-01\n\n\nHerpailurus yagouaroundi\nD15\n1.935480e-02\n1.077632e-01\n\n\nHerpailurus yagouaroundi\nD30\n1.935480e-02\n1.077632e-01\n\n\nHerpailurus yagouaroundi\nD60\n1.935480e-02\n1.077632e-01\n\n\nLynx rufus\nIAR\n4.813516e+01\n8.505259e+01\n\n\nLynx rufus\nD15\n1.341935e+00\n1.557711e+00\n\n\nLynx rufus\nD30\n1.341935e+00\n1.557711e+00\n\n\nLynx rufus\nD60\n1.341935e+00\n1.557711e+00\n\n\nMephitis macroura\nIAR\n3.024968e+01\n1.039956e+02\n\n\nMephitis macroura\nD15\n6.532258e-01\n1.812369e+00\n\n\nMephitis macroura\nD30\n6.532258e-01\n1.812369e+00\n\n\nMephitis macroura\nD60\n6.532258e-01\n1.812369e+00\n\n\nNasua narica\nIAR\n1.598290e+01\n6.918818e+01\n\n\nNasua narica\nD15\n2.364516e-01\n5.610380e-01\n\n\nNasua narica\nD30\n2.364516e-01\n5.610380e-01\n\n\nNasua narica\nD60\n2.167742e-01\n4.869866e-01\n\n\nOdocoileus virginianus\nIAR\n9.049558e+03\n2.396276e+04\n\n\nOdocoileus virginianus\nD15\n9.293226e+00\n1.111770e+01\n\n\nOdocoileus virginianus\nD30\n9.233548e+00\n1.101366e+01\n\n\nOdocoileus virginianus\nD60\n9.034516e+00\n1.071171e+01\n\n\nProcyon lotor\nIAR\n1.359355e+01\n4.141367e+01\n\n\nProcyon lotor\nD15\n4.751613e-01\n9.455541e-01\n\n\nProcyon lotor\nD30\n4.751613e-01\n9.455541e-01\n\n\nProcyon lotor\nD60\n4.751613e-01\n9.455541e-01\n\n\nPuma concolor\nIAR\n8.000000e-02\n4.454211e-01\n\n\nPuma concolor\nD15\n2.000000e-02\n1.113553e-01\n\n\nPuma concolor\nD30\n2.000000e-02\n1.113553e-01\n\n\nPuma concolor\nD60\n2.000000e-02\n1.113553e-01\n\n\nSpilogale angustifrons\nIAR\n2.216129e+00\n8.767499e+00\n\n\nSpilogale angustifrons\nD15\n2.541935e-01\n6.359862e-01\n\n\nSpilogale angustifrons\nD30\n2.541935e-01\n6.359862e-01\n\n\nSpilogale angustifrons\nD60\n2.541935e-01\n6.359862e-01\n\n\nSylvilagus floridanus\nIAR\n4.825027e+03\n1.421554e+04\n\n\nSylvilagus floridanus\nD15\n9.537419e+00\n1.380820e+01\n\n\nSylvilagus floridanus\nD30\n9.204194e+00\n1.332017e+01\n\n\nSylvilagus floridanus\nD60\n8.812903e+00\n1.257965e+01\n\n\nUrocyon cinereoargenteus\nIAR\n2.770174e+03\n8.731199e+03\n\n\nUrocyon cinereoargenteus\nD15\n8.730323e+00\n1.379761e+01\n\n\nUrocyon cinereoargenteus\nD30\n8.671290e+00\n1.372938e+01\n\n\nUrocyon cinereoargenteus\nD60\n8.554516e+00\n1.332033e+01\n\n\n\n\n\nAhora vamos a verlo de manera gr√°fica\n\n(IARmean_plot <- IAR_mean %>% # base de datos\n  filter(Delta != \"IAR\") %>% # Quitar delta 0 para gr√°fica\n  ggplot(aes(x= reorder(Delta, -mean_IAR) , y= mean_IAR,  group=1))+ # Datos de los ejes\n  geom_line()+ # Linea\n  geom_point(aes(col= Delta), \n             size= 3)+ # Puntos\n  facet_wrap(.~Species, scales = \"free\")+ # Hacerlo por especie\n  labs(y= \"Media de IAR\", \n       x= \"Delta de de tiempo de registros\",\n       caps= \"Sin D0\")+\n  theme_bw()) # Tema\n\n\n\n\nComo ven no a todas las especies las afecta igual el umbral de independencia. Hay algunas especies cuyos registros son tan dispersos en el muestreo, que el RAI no cambia con ning√∫n umbral de independencia.\nClaro, esta gr√°fica te ayudar√° a guiarte, pero debe ir acompa√±ada de una observaci√≥n de los registros o el c√°lculo de la autocorrelaci√≥n temporal para definir el ‚Äúdelta‚Äù de tiempo que usaras. Ya estamos trabajando en este √∫ltimo punto y espero en alg√∫n futuro cercano poner en linea un tutorial para estimar el umbral de independencia temporal. Por ahora me quedar√© con los registros con un delta de 15 minutos.\nAhora veamos los valores de RAI por especie\n\nplot_IAR <- IAR_mean %>%\n  filter(Delta == \"D15\") %>% \n  mutate(Sp_n= paste(\"*\",Species,\"*\", \" (IAR= \",round(mean_IAR, 3) , \" ) \", sep = \"\") ) %>% # Truco para italica de especies\n  ggplot(aes(x= reorder(Sp_n,mean_IAR), #Ordenar sp \n                              y= mean_IAR))+ # No. eventos\n   geom_bar(stat= \"identity\")+  # Geometria\n      coord_flip()+ # Girar ejes\n   labs(title = \"IAR de especies\", # T√≠tulo\n        y= \"IAR calculado\", \n        x= NULL,\n        caption = \"Registros  independencia temporal de 15 minutos a√±o 2020\")+ # Sin eje x\n   theme_minimal()+ # Tema\n   theme(axis.text.y= element_markdown()) # It√°lica nombre de especies\n plot_IAR \n\n\n\n\nRecordemos que este gr√°fico es informativo y que no es recomendable comparar el RAI de diferentes especies. Por ejemplo, no sabemos si hay m√°s venados que zorras grises (probablemente no), solo sabemos que los venados son m√°s frecuentemente fotografiados. Hablando de venados, aprovechemos que es una especie con bastantes datos y evaluemos por medio de modelos la relaci√≥n de su RAI con algunas variables."
  },
  {
    "objectID": "IAR_doc.html#modelando-el-rai",
    "href": "IAR_doc.html#modelando-el-rai",
    "title": "Indice de ¬øabundancia? relativa (RAI)",
    "section": "Modelando el RAI ü¶å",
    "text": "Modelando el RAI ü¶å\nEn este caso lo que nos interesa conocer es c√≥mo la variaci√≥n del RAI es explicada por distintas condiciones del sitio, vamos a usar nuestra base cruda de delta 15, no la del promedio.\n\nvenado <- IAR_D15 %>% # Llamamos la base de datos\n  filter(Species == \"Odocoileus virginianus\") # Filtramos la especie que nos interesa \n\nAhora vamos a cargar las variables, escalarlas y finalmente unirlas a la base de IAR\n\ncovs.data <- read_csv2(\"Data/selectedcov_nostd190821.csv\")\n\ni Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.\n\n\nRows: 31 Columns: 12\n-- Column specification --------------------------------------------------------\nDelimiter: \";\"\nchr (5): Station, Cam, MSAVI, Slope, Habitat\ndbl (4): utm_y, utm_x, Cluster, Effort\nnum (3): Vertcover_50, Dcrops, Dpop_G\n\ni Use `spec()` to retrieve the full column specification for this data.\ni Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n# UPS hay dos variables numericas que R las lee como caracteres\ncovs.data$MSAVI <- as.numeric(covs.data$MSAVI)\ncovs.data$Slope <- as.numeric(covs.data$Slope)\n\n### Separar las variables num√©ricas y categ√≥ricas\ncov.num <- covs.data %>% \n  dplyr::select(where(is.numeric)) %>% # Seleccionar columnas num√©ricas\n  scale() %>%  # estandarizar\n  as.data.frame()\ncov.fac <- covs.data %>% \n  dplyr::select(where(is.character)) # Seleccionar variables de caracter\nsp_lmdata <- data.frame(cov.fac, cov.num) %>% # Unir covariables\n  right_join(venado, by= \"Station\")# Unir con la base de registros\n\nAl tomar el IAR valores continuos suponemos que seguir√° un error tipo gaussiano, por lo cual usaremos modelos lineales simples para modelarlo. NOTA: Al no tomar valores negativos quiz√°s pueda ser error tipo gamma pero depende de cada quien probarlo.\n\n# Modelos lineales \n# sin variables\nm0 <- lm(IAR_D15~ 1, data = sp_lmdata)\n# la IAR afectada por la distancia a cultivo\nm1 <- lm(IAR_D15~ Dcrops, data = sp_lmdata)\n# la IAR afectada por el verdor de la vegetaci√≥n\nm2 <- lm(IAR_D15~ MSAVI, data = sp_lmdata)\n# la IAR afectada por la pendiente\nm3 <- lm(IAR_D15~ Slope, data = sp_lmdata) \n# la IAR afectada por la distancia a poblados\nm4 <- lm(IAR_D15~ Dpop_G, data = sp_lmdata)\n# la IAR afectada por el tipo de habitat\nm5 <- lm(IAR_D15~ Habitat, data = sp_lmdata)\n\nUsaremos el criterio de informaci√≥n de Akaike (AIC) para seleccionar el ‚Äúmejor‚Äù modelo. Consiedaremos modelos con un delta AIC menor a dos como igualmente plausibles (Burnham y Anderson 2002).\n\nlista_mods <- list(m0, m1, m2, m3, m4, m5)\nmod_names <- c(\"IAR~ 1\",\n               \"IAR~ D_cultivos\",\n               \"IAR~ MSAVI\",\n               \"IAR~ Slope\",\n               \"IAR~ D_poblado\",\n               \"IAR~ Habitat\"\n               )\nAIC <- aictab(lista_mods, \n              modnames = mod_names, \n              second.ord = F, sort = T)\nknitr::kable(AIC, 'html', digits = 3)\n\n\n\n \n  \n      \n    Modnames \n    K \n    AIC \n    Delta_AIC \n    ModelLik \n    AICWt \n    LL \n    Cum.Wt \n  \n \n\n  \n    4 \n    IAR~ Slope \n    3 \n    230.608 \n    0.000 \n    1.000 \n    0.949 \n    -112.304 \n    0.949 \n  \n  \n    6 \n    IAR~ Habitat \n    3 \n    237.783 \n    7.175 \n    0.028 \n    0.026 \n    -115.892 \n    0.976 \n  \n  \n    2 \n    IAR~ D_cultivos \n    3 \n    239.582 \n    8.974 \n    0.011 \n    0.011 \n    -116.791 \n    0.986 \n  \n  \n    1 \n    IAR~ 1 \n    2 \n    240.287 \n    9.679 \n    0.008 \n    0.008 \n    -118.144 \n    0.994 \n  \n  \n    3 \n    IAR~ MSAVI \n    3 \n    241.791 \n    11.183 \n    0.004 \n    0.004 \n    -117.896 \n    0.997 \n  \n  \n    5 \n    IAR~ D_poblado \n    3 \n    242.287 \n    11.678 \n    0.003 \n    0.003 \n    -118.143 \n    1.000 \n  \n\n\n\n\n\nSeg√∫n el AIC la pendiente es la variable que mejor explica los cambios en RAI del venado en nuestra √°rea de estudio. Veamos los coeficientes del modelo.\n\nmodelo <- m3 %>% \n  tidy()\n\nknitr::kable(modelo, digits = 3)\n\n\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\n\n\n\n\n(Intercept)\n9.293\n1.682\n5.524\n0.000\n\n\nSlope\n6.229\n1.710\n3.643\n0.001\n\n\n\n\n\n\npred <- ggeffect(m3, terms= \"Slope\")\nplot(pred)\n\n\n\n\nAlto ah√≠ vaquero. El AIC no te indica que tu modelo se adecuado, as√≠ que es deber de nosotros verificar que cumple con todos los supuestos.\n\ncheck_model(m3)\n\n\n\n\nParece que nuestro modelito no cumple del todo con el supuesto de normalidad en los residuales, tiene heterogeneidad en su varianza y tambi√©n una posible outlier. Por ahora no nos preocuparemos mucho por esto; primero porque es un ejemplo y segundo porque para serles sincero yo invent√© las covariables üòùü§™. Lo que quiero que vean es que a pesar de todo el RAI te puede dar una idea de la relaci√≥n del h√°bitat con las especies. Claro, estamos subestimando la relaci√≥n por el hecho de no considerar la detecci√≥n imperfecta, pero mientras seamos conscientes de ello y lo discutamos, personalmente creo que sigue siendo valioso."
  },
  {
    "objectID": "DigiKam.html#paso-previo-limpiar-fotos",
    "href": "DigiKam.html#paso-previo-limpiar-fotos",
    "title": "Configurar y usar DigiKam",
    "section": "Paso previo: limpiar fotos",
    "text": "Paso previo: limpiar fotos\nDebido a que una gran cantidad de fotos puede llegar a saturar DigiKam en computadores con bajo poder de procesador. Es recomendable primero realizar la limpieza de las fotos, es decir eliminar las fotos sin registros. De esta forma solo se ingresan a DigiKam la fotos de inter√©s o donde hay registros.\nSi en la secci√≥n anterior en el paso 2 agregaste la carpeta o colecci√≥n donde est√°n tus c√°maras trampa deben aparecer ya tus carpetas. Si no, simplemente ve de nuevo a la pesta√±a de preferencias a colecciones y agrega la carpeta donde est√°n las carpetas de tus c√°maras. Nota que en esta secci√≥n si puedes agregar colecciones en medios extraviarles usando la opci√≥n para ello.\n\nSi todo sale bien en la parte izquierda de DigiKam en la pesta√±a de √Ålbumes aparecer√° la carpeta, con las subcapetas de cada estaci√≥n. La organizaci√≥n es importante para el posterior an√°lisis en R: Necesitas seleccionar la carpeta que ser√° tu √°lbum y dentro tendr√°s una carpeta por cada estaci√≥n de muestreo que contendr√° sus respectivas fotos"
  },
  {
    "objectID": "DigiKam.html#otras-etiquetas",
    "href": "DigiKam.html#otras-etiquetas",
    "title": "Configurar y usar DigiKam",
    "section": "Otras etiquetas",
    "text": "Otras etiquetas\nEs posible generar diferentes etiquetas dependiendo de los objetivos e intereses del estudio. Por ejemplo, puedes asignar etiquetas para individuos identificados, sexo o comportamientos. Lo importante aqu√≠ es que deben ser etiquetas independientes, o con una jerarqu√≠a diferente de la de especie."
  },
  {
    "objectID": "index.html#d√≠a-1",
    "href": "index.html#d√≠a-1",
    "title": "C√°maras trampa en R",
    "section": "D√≠a 1",
    "text": "D√≠a 1\n\nIntroducci√≥n al dise√±o de muestreo en estudios de c√°maras trampa[ ]\nDigiKam para el etiquetado de fotos[ ]\n\n\nInstrucciones en linea [ ]\n\n\nCamtrapR: organizaci√≥n y manejo de datos de c√°maras trampa[ ]"
  },
  {
    "objectID": "index.html#d√≠a-2",
    "href": "index.html#d√≠a-2",
    "title": "C√°maras trampa en R",
    "section": "D√≠a 2",
    "text": "D√≠a 2\n\nIntroducci√≥n al √≠ndice de abundancia relativa[ ]\n\n\nScript disponible en linea [ ]\n\n\nModelos de ocupaci√≥n: Conceptos y ajuste en unmarked[ ]"
  },
  {
    "objectID": "index.html#d√≠a-3",
    "href": "index.html#d√≠a-3",
    "title": "C√°maras trampa en R",
    "section": "D√≠a 3",
    "text": "D√≠a 3\n\nModelos de ocupaci√≥n: continuaci√≥n y m√©todos de validaci√≥n del modelo[ ]\nModelos de ocupaci√≥n para dos o m√°s especies[ ]"
  },
  {
    "objectID": "IAR_doc.html#paquetes",
    "href": "IAR_doc.html#paquetes",
    "title": "Indice de ¬øabundancia? relativa (RAI)",
    "section": "PAquetes",
    "text": "PAquetes\nUsaremos las siguientes librer√≠as en R\n\nlibrary(camtrapR) # Camera Trap Data Management and Preparation of Occupancy and Spatial Capture-Recapture Analyses\nlibrary(tidyverse) # Easily Install and Load the 'Tidyverse'\nlibrary(leaflet) # Create Interactive Web Maps with the JavaScript 'Leaflet' Library\nlibrary(sp) # Classes and Methods for Spatial Data\nlibrary(ggtext) # Improved Text Rendering Support for 'ggplot2'\nlibrary(AICcmodavg) # Model Selection and Multimodel Inference Based on (Q)AIC(c)\nlibrary(broom) # Convert Statistical Objects into Tidy Tibbles\nlibrary(ggeffects) # Create Tidy Data Frames of Marginal Effects for 'ggplot' from Model Outputs\nlibrary(performance) # Assessment of Regression Models Performance"
  }
]